(this["webpackJsonpquadtree-visual"]=this["webpackJsonpquadtree-visual"]||[]).push([[0],{47:function(t,e,n){},48:function(t,e,n){},49:function(t,e,n){},55:function(t,e,n){"use strict";n.r(e);var i=n(4),s=n(0),a=n.n(s),o=n(9),r=n.n(o),h=(n(47),n(48),n(19)),d=n(20),u=n(38),c=n(37),l=(n(49),function(){function t(e,n,i,s){Object(h.a)(this,t),this.x=e,this.y=n,this.w=i,this.h=s}return Object(d.a)(t,[{key:"contains",value:function(t){return t.x>=this.x-this.w&&t.x<=this.x+this.w&&t.y>=this.y-this.h&&t.y<=this.y+this.h}},{key:"intersects",value:function(t){return!(t.x-t.w>this.x+this.w||t.x+t.w<this.x-this.w||t.y-t.h>this.y+this.h||t.y+t.h<this.y-this.h)}}]),t}());function y(){var t=document.getElementById("2d-plane"),e=t.getContext("2d");e.clearRect(0,0,t.width,t.height),e.beginPath(),e.fillStyle="#2F4F4F",e.fillRect(0,0,800,400),e.stroke(),document.getElementById("points_in_square").innerHTML="Point In Square: 0"}function v(t,e){var n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}var p=function(t,e){return{x:t,y:e}},f=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Object(h.a)(this,t),this.boundary=e,this.capacity=n,this.points=[],this.isDivided=!1,this.depth=s,i&&this.insertFather(i)}return Object(d.a)(t,[{key:"insertFather",value:function(t){for(var e=0;e<t.length;e++)this.boundary.contains(t[e])&&this.insert(t[e])}},{key:"deletePointsIfSplit",value:function(){this.isDivided&&(this.points=[])}},{key:"insert",value:function(t){return!!this.boundary.contains(t)&&(this.points.length<this.capacity&&!this.isDivided||14===this.depth?(this.points.push(t),!0):(this.isDivided||this.subdivide(),!!this.northeast.insert(t)||(!!this.northwest.insert(t)||(!!this.southeast.insert(t)||(!!this.southwest.insert(t)||void 0)))))}},{key:"subdivide",value:function(){var e=this.boundary.x,n=this.boundary.y,i=this.boundary.w,s=this.boundary.h,a=new l(e-i/2,n-s/2,i/2,s/2);this.northwest=new t(a,this.capacity,this.points,this.depth+1);var o=new l(e+i/2,n-s/2,i/2,s/2);this.northeast=new t(o,this.capacity,this.points,this.depth+1);var r=new l(e-i/2,n+s/2,i/2,s/2);this.southwest=new t(r,this.capacity,this.points,this.depth+1);var h=new l(e+i/2,n+s/2,i/2,s/2);this.southeast=new t(h,this.capacity,this.points,this.depth+1),this.isDivided=!0,this.deletePointsIfSplit()}},{key:"query",value:function(t,e){if(this.boundary.intersects(t)){for(var n=0;n<this.points.length;n++)t.contains(this.points[n])&&e.push(this.points[n]);this.isDivided&&(this.northwest.query(t,e),this.northeast.query(t,e),this.southwest.query(t,e),this.southeast.query(t,e))}}},{key:"draw",value:function(){var t=document.getElementById("2d-plane").getContext("2d");t.beginPath(),t.strokeStyle="white",t.rect(this.boundary.x-this.boundary.w,this.boundary.y-this.boundary.h,2*this.boundary.w,2*this.boundary.h),t.stroke(),this.isDivided&&(this.northeast.draw(),this.northwest.draw(),this.southeast.draw(),this.southwest.draw());for(var e=0;e<this.points.length;e++)t.beginPath(),t.fillStyle="red",t.arc(this.points[e].x,this.points[e].y,2,0,2*Math.PI),t.fill()}}]),t}(),w=n(77),b=n(76),m=n(11);n(75);var g=Object(m.a)({root:{color:"red",height:8},thumb:{height:24,width:24,backgroundColor:"#fff",border:"2px solid currentColor",marginTop:-8,marginLeft:-12,"&:focus, &:hover, &$active":{boxShadow:"inherit"}},active:{},valueLabel:{left:"calc(-50% + 4px)",top:4,"& *":{background:"transparent",color:"red"}},track:{height:8,borderRadius:4},rail:{height:8,borderRadius:4}})(w.a),x=800,j=400,k=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t){var i;return Object(h.a)(this,n),(i=e.call(this,t)).intervalID=0,i.state={drawMode:0,points:[],pointsInSquareCount:0,capacity:4,query:!1,mouseDown:!1,qtree:new f(new l(400,200,400,200),4),addRandomPoints:!0},i}return Object(d.a)(n,[{key:"componentDidMount",value:function(){y()}},{key:"reset",value:function(){y(),this.stopADDRandomPoints(),this.setState({addRandomPoints:!0,drawMode:0,pointsInSquare:[],points:[],qtree:new f(new l(400,200,400,200),this.state.capacity)})}},{key:"drawPointOnMove",value:function(t){this.state.mouseDown&&this.onClickEvent(t)}},{key:"onClickEvent",value:function(t){if(1!==this.state.drawMode){var e=function(t,e){var n=document.getElementById("2d-plane"),i=n.getContext("2d"),s=v(n,t),a=Math.floor(s.x),o=Math.floor(s.y);i.fillStyle="red",i.beginPath(),i.arc(a,o,2,0,2*Math.PI),i.fill();var r=p(a,o);return e.push(r),e}(t,this.state.points,this.state.classMode);this.setState({points:e});var n=this.state.qtree;n.insert(e[e.length-1]),this.setState({qtree:n}),y(),n.draw()}}},{key:"setsMouseIsDown",value:function(){this.setState({mouseDown:!this.state.mouseDown})}},{key:"addRandomPoints",value:function(){var t=this;this.setState({addRandomPoints:!1,drawMode:-1});var e=this.state.qtree,n=this.state.points;this.intervalID=setInterval((function(){var i=P(Math.floor(Math.random()*x),Math.floor(Math.random()*j));e.insert(i),n.push(i),t.setState({points:n,qtree:e}),y(),e.draw(),t.state.addRandomPoints&&t.stopADDRandomPoints()}),200)}},{key:"stopADDRandomPoints",value:function(){this.setState({addRandomPoints:!0}),clearInterval(this.intervalID)}},{key:"drawSearchArea",value:function(t){this.state.addRandomPoints&&function(t,e){var n=document.getElementById("2d-plane"),i=n.getContext("2d"),s=v(n,t);y(),e.draw(),i.beginPath(),i.strokeStyle="yellow",i.lineWidth=3,i.rect(s.x-50,s.y-50,100,100);var a=new l(s.x,s.y,50,50),o=[];e.query(a,o),document.getElementById("points_in_square").innerHTML="Point In Square: "+o.length,i.stroke(),i.lineWidth=1;for(var r=0;r<o.length;r++)i.beginPath(),i.fillStyle="yellow",i.arc(o[r].x,o[r].y,4,0,2*Math.PI),i.fill()}(t,this.state.qtree)}},{key:"handleCapacityChange",value:function(t,e){this.setState({capacity:e,addRandomPoints:!0}),y();for(var n=new f(new l(400,200,400,200),e),i=this.state.points,s=0;s<i.length;s++)n.insert(i[s]);n.draw(),this.setState({qtree:n})}},{key:"render",value:function(){var t=this,e=this.state,n=e.drawMode,s=e.points,a=e.pointsInSquareCount,o=e.addRandomPoints;return Object(i.jsxs)("div",{className:"quadtree",children:[Object(i.jsx)("h1",{children:"Quadtree"}),Object(i.jsx)(b.a,{color:o?"default":"primary",variant:"contained",onClick:o?function(){return t.addRandomPoints()}:function(){return t.stopADDRandomPoints()},children:"Draw Random Point"}),Object(i.jsx)(b.a,{color:0===n?"primary":"default",variant:"contained",onClick:function(){t.setState({drawMode:0,addRandomPoints:!0})},children:"Draw Points Click"}),Object(i.jsx)(b.a,{color:1===n?"primary":"default",variant:"contained",onClick:function(){t.setState({drawMode:1,addRandomPoints:!0})},children:"Search Area"}),Object(i.jsx)(b.a,{variant:"contained",onClick:function(){return t.reset()},children:"Reset"}),Object(i.jsxs)("div",{className:"quadtree__labels",children:[Object(i.jsxs)("h4",{children:["Point Count: ",s.length]}),Object(i.jsxs)("h4",{id:"points_in_square",children:["Point In Square: ",a]}),Object(i.jsxs)("div",{className:"quadtree__labels__slider",children:[Object(i.jsx)("h4",{children:"Capacity Rectangle:"}),Object(i.jsx)(g,{className:"slider",valueLabelDisplay:"on","aria-label":"pretto slider",defaultValue:4,min:2,max:20,step:1,onChange:function(e,n){return t.handleCapacityChange(e,n)}})]})]}),Object(i.jsx)("canvas",{className:"quadtree__canvas__2dplane",id:"2d-plane",width:x,height:j,onMouseDown:function(){return t.setsMouseIsDown()},onMouseUp:function(){return t.setsMouseIsDown()},onMouseMove:0===n?function(e){return t.drawPointOnMove(e)}:function(e){return t.drawSearchArea(e)},onClick:function(e){return t.onClickEvent(e)}})]})}}]),n}(a.a.Component),P=function(t,e){return{x:t,y:e}};var D=function(){return Object(i.jsx)("div",{className:"app",children:Object(i.jsx)(k,{})})},S=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,78)).then((function(e){var n=e.getCLS,i=e.getFID,s=e.getFCP,a=e.getLCP,o=e.getTTFB;n(t),i(t),s(t),a(t),o(t)}))};r.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(D,{})}),document.getElementById("root")),S()}},[[55,1,2]]]);
//# sourceMappingURL=main.4b01e07a.chunk.js.map